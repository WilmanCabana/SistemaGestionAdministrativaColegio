<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión - Secretaría</title>
    <link rel="stylesheet" href="/SistemaGestionAdministrativaColegio/css/secretaria.css
    ">
</head>
<body>
    <div class="app-container">
        <!-- Barra lateral de navegación -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <img id="img-logo" src="/SistemaGestionAdministrativaColegio/assets/img/LogoSistema.png" alt="logo">
                <h1>Colegio Ejemplo</h1>
                <p>Rol: Secretaría</p>
            </div>
            
            <ul class="sidebar-menu">
                <li class="menu-item active" data-section="dashboard">
                    <a href="#dashboard" class="menu-link">
                        <span class="menu-icon">📊</span>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item" data-section="registrar-estudiante">
                    <a href="#registrar-estudiante" class="menu-link">
                        <span class="menu-icon">👨‍🎓</span>
                        <span class="menu-text">Registrar Estudiante</span>
                    </a>
                </li>
                <li class="menu-item" data-section="consultar-estudiante">
                    <a href="#consultar-estudiante" class="menu-link">
                        <span class="menu-icon">🔍</span>
                        <span class="menu-text">Consultar Estudiante</span>
                    </a>
                </li>
                <li class="menu-item" data-section="actualizar-estudiante">
                    <a href="#actualizar-estudiante" class="menu-link">
                        <span class="menu-icon">✏️</span>
                        <span class="menu-text">Actualizar Estudiante</span>
                    </a>
                </li>
                <li class="menu-item" data-section="registrar-padres">
                    <a href="#registrar-padres" class="menu-link">
                        <span class="menu-icon">👨‍👩‍👧‍👦</span>
                        <span class="menu-text">Registrar Padres</span>
                    </a>
                </li>
                <li class="menu-item" data-section="subir-documentos">
                    <a href="#subir-documentos" class="menu-link">
                        <span class="menu-icon">📎</span>
                        <span class="menu-text">Subir Documentos</span>
                    </a>
                </li>
                <li class="menu-item" data-section="listar-estudiantes">
                    <a href="#listar-estudiantes" class="menu-link">
                        <span class="menu-icon">📋</span>
                        <span class="menu-text">Listar Estudiantes</span>
                    </a>
                </li>
                <li class="menu-item" data-section="registrar-pagos">
                    <a href="#registrar-pagos" class="menu-link">
                        <span class="menu-icon">💰</span>
                        <span class="menu-text">Registrar Pagos</span>
                    </a>
                </li>
                <li class="menu-item" data-section="historial-pagos">
                    <a href="#historial-pagos" class="menu-link">
                        <span class="menu-icon">📈</span>
                        <span class="menu-text">Historial de Pagos</span>
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <button id="logout-btn" class="logout-btn">Cerrar Sesión</button>
            </div>
        </nav>

        <!-- Contenido principal -->
        <main class="main-content">
            <!--Nota: La W3C permite que el header esté dentro del main, pero no lo contrario-->
            <header class="content-header">
                <h2 id="page-title">Dashboard - Secretaría</h2>
                <div class="user-info">
                    <span id="current-date"></span>
                </div>
            </header>

            <section class="content-area">
                <!-- Contenido dinámico se cargará aquí -->
                <div id="content-sections">
                    <!-- Dashboard -->
                    <div id="dashboard" class="content-section active">
                        <h3 class="section-title">Panel de Control - Secretaría</h3>
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <h4>Total Estudiantes</h4>
                                <div class="stat-number" id="total-estudiantes">0</div>
                            </div>
                            <div class="stat-card">
                                <h4>Pagos del Mes</h4>
                                <div class="stat-number" id="pagos-mes">0</div>
                            </div>
                            <div class="stat-card">
                                <h4>Documentos Pendientes</h4>
                                <div class="stat-number" id="documentos-pendientes">0</div>
                            </div>
                            <div class="stat-card">
                                <h4>Nuevos Registros</h4>
                                <div class="stat-number" id="nuevos-registros">0</div>
                            </div>
                        </div>

                        <div class="quick-actions">
                            <h4>Acciones Rápidas</h4>
                            <div class="action-buttons">
                                <button class="btn-action" onclick="cambiarSeccion('registrar-estudiante')">
                                    <span class="action-icon">👨‍🎓</span>
                                    <span>Registrar Estudiante</span>
                                </button>
                                <button class="btn-action" onclick="cambiarSeccion('registrar-pagos')">
                                    <span class="action-icon">💰</span>
                                    <span>Registrar Pago</span>
                                </button>
                                <button class="btn-action" onclick="cambiarSeccion('listar-estudiantes')">
                                    <span class="action-icon">📋</span>
                                    <span>Ver Listado</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- RFST1: Registrar datos de estudiante -->
                    <div id="registrar-estudiante" class="content-section">
                        <h3 class="section-title">Registrar Nuevo Estudiante</h3>
                        <div class="form-container">
                            <form id="form-registro-estudiante" class="two-column-form">
                                <div class="form-column">
                                    <h4>Información Personal</h4>
                                    <div class="form-group">
                                        <label for="estudiante-nombres">Nombres *</label>
                                        <input type="text" id="estudiante-nombres" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-apellidos">Apellidos *</label>
                                        <input type="text" id="estudiante-apellidos" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-tipo-doc">Tipo de Documento *</label>
                                        <select id="estudiante-tipo-doc" required>
                                            <option value="">Seleccionar</option>
                                            <option value="TI">Tarjeta de Identidad</option>
                                            <option value="RC">Registro Civil</option>
                                            <option value="CC">Cédula de Ciudadanía</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-numero-doc">Número de Documento *</label>
                                        <input type="text" id="estudiante-numero-doc" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-fecha-nac">Fecha de Nacimiento *</label>
                                        <input type="date" id="estudiante-fecha-nac" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-genero">Género</label>
                                        <select id="estudiante-genero">
                                            <option value="">Seleccionar</option>
                                            <option value="M">Masculino</option>
                                            <option value="F">Femenino</option>
                                            <option value="O">Otro</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-column">
                                    <h4>Información de Contacto y Académica</h4>
                                    <div class="form-group">
                                        <label for="estudiante-direccion">Dirección *</label>
                                        <input type="text" id="estudiante-direccion" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-telefono">Teléfono</label>
                                        <input type="tel" id="estudiante-telefono">
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-celular">Celular *</label>
                                        <input type="tel" id="estudiante-celular" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-email">Email</label>
                                        <input type="email" id="estudiante-email">
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-grado">Grado *</label>
                                        <select id="estudiante-grado" required>
                                            <option value="">Seleccionar grado</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="estudiante-jornada">Jornada *</label>
                                        <select id="estudiante-jornada" required>
                                            <option value="">Seleccionar</option>
                                            <option value="mañana">Mañana</option>
                                            <option value="tarde">Tarde</option>
                                            <option value="completa">Completa</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-full-width">
                                    <button type="submit" class="btn btn-primary">Registrar Estudiante</button>
                                    <button type="button" class="btn btn-secondary" onclick="limpiarFormularioEstudiante()">Limpiar Formulario</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- RFST2: Consultar datos de estudiante -->
                    <div id="consultar-estudiante" class="content-section">
                        <h3 class="section-title">Consultar Datos de Estudiante</h3>
                        <div class="search-container">
                            <div class="search-box">
                                <input type="text" id="buscar-estudiante" placeholder="Buscar por nombre, documento o código...">
                                <button class="btn btn-primary" onclick="buscarEstudiante()">Buscar</button>
                            </div>
                            <div class="search-filters">
                                <label>Filtrar por:</label>
                                <select id="filtro-grado">
                                    <option value="">Todos los grados</option>
                                </select>
                                <select id="filtro-estado">
                                    <option value="">Todos los estados</option>
                                    <option value="activo">Activo</option>
                                    <option value="inactivo">Inactivo</option>
                                </select>
                            </div>
                        </div>

                        <div id="resultado-busqueda" class="search-results">
                            <!-- Resultados de búsqueda aparecerán aquí -->
                        </div>

                        <div id="detalle-estudiante" class="student-detail" style="display: none;">
                            <h4>Detalle del Estudiante</h4>
                            <div class="detail-content">
                                <!-- Información detallada del estudiante -->
                            </div>
                        </div>
                    </div>

                    <!-- RFST3: Actualizar datos de estudiante -->
                    <div id="actualizar-estudiante" class="content-section">
                        <h3 class="section-title">Actualizar Datos de Estudiante</h3>
                        <div class="update-container">
                            <div class="search-update">
                                <input type="text" id="buscar-actualizar" placeholder="Buscar estudiante a actualizar...">
                                <button class="btn btn-primary" onclick="buscarParaActualizar()">Buscar</button>
                            </div>

                            <div id="form-actualizar-estudiante" class="form-container" style="display: none;">
                                <!-- Formulario de actualización similar al de registro -->
                            </div>
                        </div>
                    </div>

                    <!-- RFST4: Registrar datos de padres -->
                    <div id="registrar-padres" class="content-section">
                        <h3 class="section-title">Registrar Datos de Padres/Acudientes</h3>
                        <div class="parents-container">
                            <div class="student-selection">
                                <label>Seleccionar Estudiante:</label>
                                <select id="select-estudiante-padres">
                                    <option value="">Seleccionar estudiante</option>
                                </select>
                            </div>

                            <div id="form-parents" class="form-container" style="display: none;">
                                <div class="parent-form">
                                    <h4>Información del Padre/Madre/Acudiente</h4>
                                    <form id="form-registro-padre" class="two-column-form">
                                        <div class="form-column">
                                            <div class="form-group">
                                                <label for="parent-nombres">Nombres *</label>
                                                <input type="text" id="parent-nombres" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-apellidos">Apellidos *</label>
                                                <input type="text" id="parent-apellidos" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-tipo-doc">Tipo de Documento *</label>
                                                <select id="parent-tipo-doc" required>
                                                    <option value="">Seleccionar</option>
                                                    <option value="CC">Cédula de Ciudadanía</option>
                                                    <option value="CE">Cédula de Extranjería</option>
                                                    <option value="PA">Pasaporte</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-numero-doc">Número de Documento *</label>
                                                <input type="text" id="parent-numero-doc" required>
                                            </div>
                                        </div>

                                        <div class="form-column">
                                            <div class="form-group">
                                                <label for="parent-parentesco">Parentesco *</label>
                                                <select id="parent-parentesco" required>
                                                    <option value="">Seleccionar</option>
                                                    <option value="padre">Padre</option>
                                                    <option value="madre">Madre</option>
                                                    <option value="acudiente">Acudiente</option>
                                                    <option value="tutor">Tutor</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-telefono">Teléfono *</label>
                                                <input type="tel" id="parent-telefono" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-email">Email</label>
                                                <input type="email" id="parent-email">
                                            </div>
                                            <div class="form-group">
                                                <label for="parent-ocupacion">Ocupación</label>
                                                <input type="text" id="parent-ocupacion">
                                            </div>
                                        </div>

                                        <div class="form-full-width">
                                            <button type="submit" class="btn btn-primary">Registrar Acudiente</button>
                                            <button type="button" class="btn btn-secondary" onclick="agregarOtroAcudiente()">Agregar Otro Acudiente</button>
                                        </div>
                                    </form>
                                </div>

                                <div id="lista-acudientes" class="parents-list">
                                    <!-- Lista de acudientes registrados -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RFST5: Subir documentos complementarios -->
                    <div id="subir-documentos" class="content-section">
                        <h3 class="section-title">Subir Documentos Complementarios</h3>
                        <div class="documents-container">
                            <div class="student-selection">
                                <label>Seleccionar Estudiante:</label>
                                <select id="select-estudiante-documentos">
                                    <option value="">Seleccionar estudiante</option>
                                </select>
                            </div>

                            <div id="upload-section" class="upload-container" style="display: none;">
                                <div class="upload-area">
                                    <h4>Subir Nuevo Documento</h4>
                                    <div class="upload-form">
                                        <div class="form-group">
                                            <label for="tipo-documento">Tipo de Documento *</label>
                                            <select id="tipo-documento" required>
                                                <option value="">Seleccionar tipo</option>
                                                <option value="identidad">Documento de Identidad</option>
                                                <option value="nacimiento">Registro de Nacimiento</option>
                                                <option value="salud">Carné de Salud</option>
                                                <option value="foto">Foto</option>
                                                <option value="vacunas">Carné de Vacunas</option>
                                                <option value="otros">Otros</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="documento-file">Seleccionar Archivo *</label>
                                            <input type="file" id="documento-file" accept=".pdf,.jpg,.jpeg,.png" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="documento-observaciones">Observaciones</label>
                                            <textarea id="documento-observaciones" rows="3"></textarea>
                                        </div>
                                        <button class="btn btn-primary" onclick="subirDocumento()">Subir Documento</button>
                                    </div>
                                </div>

                                <div id="lista-documentos" class="documents-list">
                                    <!-- Lista de documentos subidos -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RFST6: Listar estudiantes -->
                    <div id="listar-estudiantes" class="content-section">
                        <h3 class="section-title">Listado de Estudiantes</h3>
                        <div class="list-controls">
                            <div class="filters">
                                <select id="filtro-listado-grado">
                                    <option value="">Todos los grados</option>
                                </select>
                                <select id="filtro-listado-jornada">
                                    <option value="">Todas las jornadas</option>
                                    <option value="mañana">Mañana</option>
                                    <option value="tarde">Tarde</option>
                                    <option value="completa">Completa</option>
                                </select>
                                <select id="filtro-listado-estado">
                                    <option value="">Todos los estados</option>
                                    <option value="activo">Activo</option>
                                    <option value="inactivo">Inactivo</option>
                                </select>
                            </div>
                            <div class="export-options">
                                <button class="btn btn-secondary" onclick="exportarListado()">Exportar a Excel</button>
                                <button class="btn btn-secondary" onclick="imprimirListado()">Imprimir Listado</button>
                            </div>
                        </div>

                        <div id="tabla-estudiantes" class="students-table">
                            <!-- Tabla de estudiantes aparecerá aquí -->
                        </div>
                    </div>

                    <!-- RFST7: Registrar pagos realizados -->
                    <div id="registrar-pagos" class="content-section">
                        <h3 class="section-title">Registrar Pagos Realizados</h3>
                        <div class="payments-container">
                            <div class="payment-form">
                                <div class="form-group">
                                    <label for="pago-estudiante">Seleccionar Estudiante *</label>
                                    <select id="pago-estudiante" required>
                                        <option value="">Seleccionar estudiante</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pago-concepto">Concepto de Pago *</label>
                                    <select id="pago-concepto" required>
                                        <option value="">Seleccionar concepto</option>
                                        <option value="matricula">Matrícula</option>
                                        <option value="pension">Pensión</option>
                                        <option value="uniforme">Uniforme</option>
                                        <option value="materiales">Materiales</option>
                                        <option value="otros">Otros</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pago-valor">Valor *</label>
                                    <input type="number" id="pago-valor" required>
                                </div>
                                <div class="form-group">
                                    <label for="pago-fecha">Fecha de Pago *</label>
                                    <input type="date" id="pago-fecha" required>
                                </div>
                                <div class="form-group">
                                    <label for="pago-metodo">Método de Pago *</label>
                                    <select id="pago-metodo" required>
                                        <option value="">Seleccionar método</option>
                                        <option value="efectivo">Efectivo</option>
                                        <option value="transferencia">Transferencia</option>
                                        <option value="tarjeta">Tarjeta</option>
                                        <option value="cheque">Cheque</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pago-observaciones">Observaciones</label>
                                    <textarea id="pago-observaciones" rows="3"></textarea>
                                </div>
                                <button class="btn btn-primary" onclick="registrarPago()">Registrar Pago</button>
                            </div>

                            <div id="pagos-recientes" class="recent-payments">
                                <h4>Pagos Recientes</h4>
                                <!-- Lista de pagos recientes -->
                            </div>
                        </div>
                    </div>

                    <!-- RFST8: Consultar historial de pago por estudiante -->
                    <div id="historial-pagos" class="content-section">
                        <h3 class="section-title">Consultar Historial de Pagos</h3>
                        <div class="payment-history-container">
                            <div class="history-selection">
                                <div class="form-group">
                                    <label for="historial-estudiante">Seleccionar Estudiante *</label>
                                    <select id="historial-estudiante" required>
                                        <option value="">Seleccionar estudiante</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="historial-periodo">Período</label>
                                    <select id="historial-periodo">
                                        <option value="">Todos los períodos</option>
                                        <option value="2024-01">Enero 2024</option>
                                        <option value="2024-02">Febrero 2024</option>
                                        <!-- Más opciones se generarán dinámicamente -->
                                    </select>
                                </div>
                                <button class="btn btn-primary" onclick="cargarHistorialPagos()">Consultar Historial</button>
                            </div>

                            <div id="resumen-pagos" class="payment-summary" style="display: none;">
                                <!-- Resumen de pagos -->
                            </div>

                            <div id="detalle-historial" class="payment-details" style="display: none;">
                                <!-- Detalle del historial de pagos -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="/SistemaGestionAdministrativaColegio/js/secretaria.js"></script>
</body>
</html>